<!-- HEADER (inchangé) -->
<header id="header" data-fullwidth="true">
  <div class="header-inner">
    <div class="container">
      <div id="logo">
        <a routerLink="/home"><img src="assets/images/logo.png" class="logo-default"></a>
      </div>
      <app-language></app-language>
      <div id="mainMenu-trigger"><a class="lines-button x"><span class="lines"></span></a></div>
      <app-menu></app-menu>
    </div>
  </div>
</header>

<!-- SLIDER (inchangé) -->
<div id="slider" class="inspiro-slider dots-creative" data-height-xs="260">
  <div class="slide kenburns" style="background-image:url('assets/images/formations/po-sc.jpeg');">
    <div class="bg-overlay"></div>
    <div class="container">
      <div class="slide-captions text-center text-light">
        <h1>{{ 'admission.title' | translate }}</h1>
        <span>Polytechnique</span>
      </div>
    </div>
  </div>
</div>

<!-- LOADING -->
<div *ngIf="loading" class="loading-container">
  <div class="spinner-css"></div>
  <p class="loading-text">Envoi du formulaire, merci de patienter...</p>
</div>

<!-- SUCCESS MESSAGE -->
<div *ngIf="successMessage" class="admission_success my-3">
  <i class="fas fa-check"></i> Votre admission a été envoyée avec succès !
</div>

<!-- FORMULAIRE -->
<div *ngIf="!admissionConfirmation" class="body-inner">
  <form [formGroup]="admissionForm" (ngSubmit)="submitAdmission()" autocomplete="off">

    <!-- STEP 1 -->
    <div class="tab" *ngIf="currentStep===0">
      <p>{{ 'admission.select_prog' | translate }} <span class="star_required">*</span>
        <select formControlName="program" class="form-control">
          <option *ngFor="let p of programs" [value]="p?.name">{{ p?.name }}</option>
        </select>
      </p>

      <p>{{ 'admission.re-entry' | translate }} <span class="star_required">*</span>
        <select formControlName="concours" class="form-control">
          <option *ngFor="let d of dateComp" [value]="d?.name">{{ d?.name }}</option>
        </select>
      </p>
    </div>

    <!-- STEP 2 -->
    <div class="tab" *ngIf="currentStep===1">
      <h4>{{ 'admission.personal_info' | translate }}</h4>
      <p><input formControlName="fname" placeholder="{{ 'admission.fullname' | translate }}" class="form-control"></p>
      <p><input formControlName="email" placeholder="{{ 'admission.email' | translate }}" class="form-control"></p>
      <p><input formControlName="phone" placeholder="{{ 'admission.phone' | translate }}" class="form-control"></p>
      <p>
        <select formControlName="sexe" class="form-control">
          <option value="M">Masculin</option>
          <option value="F">Féminin</option>
        </select>
      </p>
      <p><input type="number" formControlName="age" placeholder="{{ 'admission.age' | translate }}" class="form-control"></p>
      <p><input formControlName="ville" placeholder="{{ 'admission.ville' | translate }}" class="form-control"></p>
    </div>

    <!-- STEP 3 -->
    <div class="tab" *ngIf="currentStep===2">
      <h4>{{ 'admission.etude' | translate }}</h4>
      <p>
        <select formControlName="diplome" class="form-control">
          <option *ngFor="let n of nEtude" [value]="n?.name">{{ n?.name }}</option>
        </select>
      </p>
    </div>

    <!-- STEP 4 -->
    <div class="tab" *ngIf="currentStep===3">
      <h4>{{ 'admission.choice_center' | translate }}</h4>
      <p>
        <select formControlName="center" class="form-control">
          <option value="Yaoundé - Mballa 2">Yaoundé - Mballa 2</option>
          <option value="Yaoundé - Omnisports">Yaoundé - Omnisports</option>
        </select>
      </p>
      <p>
        <input type="checkbox" formControlName="cF">
        {{ 'admission.confirm_admission' | translate }}
      </p>
    </div>

    <!-- NAVIGATION -->
    <div class="d-flex justify-content-end gap-2 mt-3">
      <button type="button" (click)="prev()" [disabled]="currentStep===0" class="btn btn-secondary">
        {{ 'admission.prev' | translate }}
      </button>
      <button type="button" *ngIf="currentStep < totalSteps-1" (click)="next()" class="btn btn-info">
        {{ 'admission.next' | translate }}
      </button>
      <button type="submit" *ngIf="currentStep === totalSteps-1" [disabled]="admissionForm.invalid || loading" class="btn btn-primary">
        <span *ngIf="loading" class="spinner-css-small"></span>
        <span *ngIf="!loading">{{ 'admission.submit' | translate }}</span>
      </button>
    </div>

  </form>
</div>

<!-- CONFIRMATION -->
<section *ngIf="admissionConfirmation" class="admission_confirmation text-center my-4">
  <div class="container">
    <h2>
      <img src="assets/images/forms/success/check.png" alt="check" class="check">
      {{ 'admission.admission_sent' | translate }}
    </h2>
    <p>{{ 'admission.check_mail' | translate }}</p>
    <button type="button" routerLink="/polytechnique/formation" class="btn btn-dark mt-3">
      {{ 'formation.title' | translate }}
    </button>
  </div>
</section>

<!-- FOOTER (inchangé) -->
<app-footer></app-footer>
<app-scroll-top></app-scroll-top>
